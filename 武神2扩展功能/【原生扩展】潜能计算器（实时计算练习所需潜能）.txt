完全基于原生扩展功能的潜能计算工具，无需脚本。原理是扩展的“提示/描述/说明”一栏可以直接写 HTML。

目前可以在技能下方显示一个潜能计算器，默认起始等级为当前等级，目标等级为当前等级+100级。

玩家可以调整起始和目标等级，潜能计算器会实时显示当前技能练习所消耗的潜能。

如果输入数据不合法字体会变红，需求等级超过玩家等级上限字体会变黄。

同时支持一键练习到输入的目标等级。

安装方法：
1. 设置-扩展-添加新的扩展
2. “提示/描述/说明”把最后提供的代码粘贴上去
3. “可用选项”选择“技能”，底下最大的那个框填一个空格
4. 保存并启用，这时你应该会看到“「潜能计算器」扩展已加载，请打开技能查看”字样

=====下面是粘贴在“提示/描述/说明”的代码（版本：2025.11.12；请尽量使用最新版）=====

<div id="qianneng-calculator"style="display: block; width: auto; color: #C0C0C0"><div style="display: flex; align-items: center; flex-wrap: wrap; gap: 12px;"><div style="display: flex; align-items: center; margin: 8px;"><label style="margin-right: 5px;">起始等级:<input type="number"id="qianneng-start-level"min="0"style="width: 60px; padding: 4px; border: 1px solid; border-radius: 3px; background-color: transparent; color: inherit;"/></label></div><div style="display: flex; align-items: center; margin: 8px;"><label style="margin-right: 5px;">目标等级:<input type="number"id="qianneng-target-level"min="0"style="width: 60px; padding: 4px; border: 1px solid; border-radius: 3px; background-color: transparent; color: inherit;"/></label></div><div style="display: flex; align-items: center; margin: 8px 5px 8px auto;">所需潜能:<span id="qianneng-required"style="min-width: 100px; font-weight: bold; min-width: 4em; text-align: center;">0</span></div><div class="item-commands"style="margin: 8px 5px"><span id="qianneng-start-btn">练习到此</span></div></div></div><script>(function(){const container=document.getElementById("qianneng-calculator");if(!container){console.log("[Qianneng Calculator] 无法获取扩展元素");return}function exitAndClear(errorMessage){if(errorMessage){console.error("[Qianneng Calculator]",errorMessage);container.innerHTML=`<hir>「潜能计算器」无法在此环境下运行，错误信息：${errorMessage}</hir>`}else{container.remove()}}if(document.querySelectorAll('div[id="jinglian-plus-plus"]').length>1){exitAndClear("扩展元素出现多次");return}const parent=container.parentElement;if(parent.classList.contains("title")&&parent.parentElement.classList.contains("setting-item")&&parent.parentElement.parentElement.classList.contains("extend-list")){container.style.display="inline-block";container.innerHTML=`<hig>「潜能计算器」扩展已加载，请打开技能查看</hig>`;return}const itemCommands=parent.parentElement;if(!itemCommands||!itemCommands.classList.contains("item-commands")){exitAndClear("无法获取 item-command 元素");return}itemCommands.replaceChild(container,parent);const skillElm=itemCommands.previousElementSibling;const levelInfos=[{class:"grade0",name:"白色",x:2,y:5},{class:"grade1",name:"绿色",x:2,y:10},{class:"grade2",name:"蓝色",x:7,y:15},{class:"grade3",name:"黄色",x:10,y:20},{class:"grade4",name:"紫色",x:12,y:25},{class:"grade5",name:"橙色",x:15,y:30},{class:"grade6",name:"红色",x:20,y:35}];const curLevelInfo=(function(){for(const levelInfoItem of levelInfos){if(skillElm.classList.contains(levelInfoItem.class)){return levelInfoItem}}return null})();if(!curLevelInfo){exitAndClear("无法识别技能颜色");return}const skillLevelElm=skillElm.querySelector("span.skill-level");if(!skillLevelElm){exitAndClear("找不到技能等级元素");return}const skillLevel=parseInt(skillLevelElm.textContent.match(/\d+/)[0]);if(!skillLevel){exitAndClear("无法获取技能等级");return}const dialogFooter=itemCommands.parentElement.parentElement.nextElementSibling;if(!dialogFooter||!dialogFooter.classList.contains("dialog-footer")){exitAndClear("找不到技能页页脚元素");return}const levelLimitElm=dialogFooter.querySelector("span.obj-money > hic");if(!levelLimitElm){exitAndClear("找不到技能上限元素");return}const levelLimit=parseInt(levelLimitElm.textContent);const skillID=(function(){for(const son of itemCommands.children){if(son.tagName==="SPAN"&&son.innerHTML==="练习"){const match=son.getAttribute("cmd").match(/^lianxi\s+([a-z0-9]+)$/);if(match){return match[1]}else{continue}}}})();const startLevelInput=document.getElementById("qianneng-start-level");startLevelInput.value=skillLevel;const targetLevelInput=document.getElementById("qianneng-target-level");targetLevelInput.value=skillLevel+100;const startBtn=document.getElementById("qianneng-start-btn");startLevelInput.addEventListener("input",calculateQianneng);targetLevelInput.addEventListener("input",calculateQianneng);calculateQianneng();function calculateQianneng(){const qiannengStartLevel=parseInt(startLevelInput.value);const qiannengTargetLevel=parseInt(targetLevelInput.value);const outputElement=document.getElementById("qianneng-required");startLevelInput.style.color="#C0C0C0";targetLevelInput.style.color="#C0C0C0";outputElement.style.color="#C0C0C0";let invalid=false;if(qiannengStartLevel<0){startLevelInput.style.color="#FF4500";invalid=true}if(qiannengTargetLevel<0){targetLevelInput.style.color="#FF4500";invalid=true}if(qiannengTargetLevel<qiannengStartLevel){startLevelInput.style.color="#FF4500";targetLevelInput.style.color="#FF4500";invalid=true}if(invalid){outputElement.style.color="#505050";outputElement.textContent="-";startBtn.removeAttribute("cmd");return}if(qiannengStartLevel>levelLimit){startLevelInput.style.color="#FFFF00"}if(qiannengTargetLevel>levelLimit){targetLevelInput.style.color="#FFFF00"}outputElement.style.color="#C0C0C0";startBtn.setAttribute("cmd","#lianxi "+skillID+" "+qiannengTargetLevel);const d=qiannengStartLevel;const e=qiannengTargetLevel;const x=curLevelInfo.x;const y=curLevelInfo.y;const result=(e-d)*x+y*((e*(e-1)/2)-(d*(d-1)/2));outputElement.textContent=Math.round(result)}})();</script>